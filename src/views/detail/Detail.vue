<template>
  <div>
    <h2 class="page-header">Detail</h2>
    <ListingComponent :data="listings" @selected="alertBox" />
  </div>
</template>

<script>
import { ref, onMounted, onUnmounted, onUpdated } from "vue";

import ListingComponent from "@/components/Listing.vue";
export default {
  components: {
    ListingComponent,
  },
  setup() {
    onMounted(() => console.log("Mount: âœ… Detail Component"));
    onUnmounted(() => console.log("unMount: ðŸ‘‹ðŸ» Detail Component "));
    onUpdated(() => console.log("Updated: ðŸ”¥ Detail Component"));

    let listings = ref([]);

    setTimeout(() => {
      listings.value = [
        { id: 1, name: "ðŸ¥› Milk" },
        { id: 2, name: "ðŸ¥– Bread" },
        { id: 3, name: "ðŸ¥š Egg" },
      ];
    }, 5000);

    const alertBox = (select) => alert(`You selected: ${select}`);

    return {
      listings,
      alertBox,
    };
  },
};
</script>
